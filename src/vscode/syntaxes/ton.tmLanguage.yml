# yaml-language-server: $schema=https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json
uuid: bbe9ac97-90ba-4d64-8502-4602a1132436
name: ton
scopeName: source.ton
fileTypes:
    - ton

# This grammar is intentionally simple and only performs classification according to the lexical grammar. It also is not
# entirely faithful to the formal language grammar. More advanced (and 100% correct) classification based on the
# syntactic grammar and semantic knowledge is left to the language server.
patterns:
    # Comments
    - name: comment.line.ton
      match: \s*//.*
    # Operators
    - name: keyword.operator.ton
      match: ==?|!=|\+|-|~|\*|/|%|\&|\||\^|>(=|>>?)?|<(=|<)?
    # Literals
    - name: constant.language.ton
      match: \b(false|nan|null|true|undef)\b
    - name: constant.numeric.real.ton
      match: '[0-9](_*[0-9])*\.[0-9](_*[0-9])*([eE][\+-]?[0-9](_*[0-9])*)?'
    - name: constant.numeric.integer.ton
      match: '0([oO][0-7](_*[0-7])*|[bB][0-1](_*[0-1])*|[xX][0-9a-fA-F](_*[0-9a-fA-F])*)|[0-9](_*[0-9])*'
    - name: string.quoted.ton
      begin: '"'
      end: '"'
    # Punctuators
    - name: punctuation.ton
      match: \.\.?|,|;|#|\(|\)|\[|\]|\{|\}
    # Keywords
    # TODO
    # Identifiers
    - name: support.type.ton
      match: '[A-Z][0-9a-zA-Z]*'
    - name: support.type.quoted.ton
      begin: "'"
      end: "'"
    - name: variable.name.ton
      match: \$[a-zA-Z][_0-9a-zA-Z]*
